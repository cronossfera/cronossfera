<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cronosfera</title>
    <!-- Estilos -->
    <link rel="stylesheet" href="styles.css">
    <!-- Favicon -->
    <link rel="icon" type="image/ico" href="favicon.ico">
    <!-- FullCalendar para el organizador dinámico -->
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js"></script>
    <!-- Chart.js para estadísticas -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="tema-default">
    <!-- Header con logo y configuraciones -->
    <header class="main-header">
        <div class="logo-container">
            <img src="images/logo.png" alt="Cronosfera Logo" class="logo">
        </div>
        <div class="header-bar"></div>
        <div class="settings-container">
            <img src="images/settings-gear.png" alt="Configuraciones" id="settings-btn" class="settings-icon">
        </div>
    </header>

    <!-- Contenedor principal -->
    <main class="main-content">
        <div class="container fade-in">
            <div id="dato"></div>
            <div id="cita"></div>
            <div id="recurso"></div>
            <div class="button-group">
                <button id="random-capsule-btn" aria-label="Generar cápsula aleatoria">Cápsula Aleatoria</button>
                <button id="email-capsule-btn" aria-label="Enviar cápsula por email">Enviar a mi futuro yo</button>
                <button id="favorite-btn" aria-label="Marcar como favorita"></button>
                <button id="create-capsule-btn" aria-label="Crear cápsula personalizada">Crear Cápsula</button>
                <button id="favorites-btn" aria-label="Ver cápsulas favoritas">Favoritos</button>
                <button id="stats-btn" aria-label="Ver estadísticas">Estadísticas</button>
            </div>
            <a href="#" id="organizador-btn" aria-label="Abrir organizador dinámico">Organizador Dinámico</a>
            <div id="user-stats"></div>
            <div id="visit-counter">Visitas: 0</div>
            <div id="achievements"></div>
        </div>

        <!-- Organizador dinámico -->
        <div id="organizador" class="fade">
            <h2>Organizador Dinámico</h2>
            <div id="agenda">
                <h3>Agenda</h3>
                <div id="recordatorios"></div>
            </div>
            <div id="calendar-container"></div>
            <div class="organizador-form">
                <select id="categoria">
                    <option value="Trabajo">Trabajo</option>
                    <option value="Personal">Personal</option>
                    <option value="Estudio">Estudio</option>
                </select>
                <div class="task-input-wrapper">
                    <input type="text" id="entrada" placeholder="Nueva tarea..." autocomplete="off">
                    <div id="suggestions" class="suggestions"></div>
                </div>
                <input type="date" id="fecha">
                <input type="time" id="hora">
                <select id="priority">
                    <option value="Alta">Alta</option>
                    <option value="Media">Media</option>
                    <option value="Baja">Baja</option>
                </select>
                <input type="text" id="tags" placeholder="Tags (separados por comas)">
                <button id="add-task-btn" aria-label="Agregar tarea">Añadir</button>
            </div>
            <div id="lista"></div>
            <button class="back-btn" id="back-to-main-from-organizador" aria-label="Volver a la pantalla principal">Volver a Principal</button>
        </div>

        <!-- Configuración -->
        <div id="config" class="fade">
            <h2>Configuración</h2>
            <div class="config-group">
                <label for="tema">Tema:</label>
                <select id="tema">
                    <option value="default">Sci-Fi</option>
                    <option value="frutiger-metro">Frutiger Metro</option>
                    <option value="pastel">Pastel Frutiger Metro</option>
                    <option value="vaporwave">Vaporwave</option>
                    <option value="dark-academia">Dark Academia</option>
                    <option value="cyberpunk">Cyberpunk</option>
                    <option value="frutiger-aero">Frutiger Aero</option>
                    <option value="galaxy">Galaxia</option>
                    <option value="custom">Custom</option>
                </select>
            </div>
            <div class="config-group">
                <label for="idioma">Idioma:</label>
                <select id="idioma">
                    <option value="es">Español</option>
                    <option value="en">English</option>
                    <option value="pt">Português</option>
                    <option value="jp">日本語</option>
                    <option value="ko">한국어</option>
                    <option value="fr">Français</option>
                </select>
            </div>
            <div class="config-group">
                <label for="font">Fuente:</label>
                <select id="font">
                    <option value="orbitron">Orbitron</option>
                    <option value="roboto">Roboto</option>
                    <option value="monospace">Monospace</option>
                </select>
            </div>
            <div class="config-group">
                <label><input type="checkbox" id="autoTheme"> Tema automático</label>
                <label><input type="checkbox" id="highContrast"> Alto contraste</label>
            </div>
            <button id="apply-config-btn" aria-label="Aplicar configuración">Aplicar</button>
            <button class="back-btn" id="back-to-main-from-config" aria-label="Volver a la pantalla principal">Atrás</button>
        </div>

        <!-- Test de personalidad -->
        <div id="personality-test" class="fade">
            <h2>Test de Personalidad</h2>
            <progress id="progress-bar" max="9" value="1"></progress>
            <p>Pregunta <span id="current-question">1</span>/9</p>
            <div id="test-content"></div>
            <div class="button-group">
                <button id="prev-btn" style="display: none;">Anterior</button>
                <button id="next-btn">Siguiente</button>
                <button id="submit-btn" style="display: none;">Finalizar</button>
                <button class="back-btn" id="back-to-main-from-test" aria-label="Volver a la pantalla principal">Volver</button>
            </div>
        </div>

        <!-- Cápsulas personalizadas -->
        <div id="custom-capsule-form" class="fade">
            <h2>Crear Cápsula Personalizada</h2>
            <input type="text" id="custom-dato" placeholder="Dato">
            <textarea id="custom-cita" placeholder="Cita"></textarea>
            <input type="text" id="custom-recurso" placeholder="Recurso">
            <input type="date" id="custom-date">
            <input type="file" id="custom-imagen" accept="image/*">
            <div class="button-group">
                <button id="save-capsule-btn" aria-label="Guardar cápsula">Guardar</button>
                <button id="close-capsule-form-btn" aria-label="Cerrar formulario">Cerrar</button>
            </div>
        </div>

        <!-- Favoritos -->
        <div id="favorites" class="fade">
            <h2>Cápsulas Favoritas</h2>
            <div id="favorites-list"></div>
            <button class="back-btn" id="back-to-main-from-favorites" aria-label="Volver a la pantalla principal">Volver a Principal</button>
        </div>

        <!-- Estadísticas -->
        <div id="stats" class="fade">
            <h2>Estadísticas</h2>
            <canvas id="stats-chart"></canvas>
            <div id="stats-details"></div>
            <button class="back-btn" id="back-to-main-from-stats" aria-label="Volver a la pantalla principal">Volver a Principal</button>
        </div>

        <!-- Tutorial -->
        <div id="tutorial">
            <div id="tutorial-steps"></div>
            <div class="button-group">
                <button id="next-tutorial">Siguiente</button>
                <button id="skip-tutorial">Saltar</button>
            </div>
        </div>

        <!-- Modal para Zoom In -->
        <div id="modal" class="modal">
            <div class="modal-content">
                <p id="modal-text"></p>
                <button id="close-modal-btn" aria-label="Cerrar modal">Cerrar</button>
            </div>
        </div>

        <!-- Canvas para gráficos interactivos -->
        <canvas id="interactive-2000s"></canvas>
    </main>

    <!-- Scripts -->
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-storage.js"></script>
    <!-- Módulos del proyecto -->
    <script type="module" src="script.js"></script>
    <script type="module" src="capsulas.js"></script>
</body>
</html>
